 <!DOCTYPE html>
<html lang="en">
<head>
  <title>index</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/he/1.2.0/he.js" integrity="sha512-o4gKX6jcK0rdciOZ9X8COYkV9gviTJAbYEVW8aC3OgIRuaKDmcT9/OFXBVzHSSOxiTjsTktqrUvCUrHkQHSn9Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <style>
    body{
      background-image: url('https://i.makeagif.com/media/11-10-2023/Cj0QHC.gif');
      background-repeat: no-repeat;
      background-size: 100% 100vh;
      background-attachment: fixed;
    }
    #home, #form1, #form2, #form3, #form4{
      display: none;
      width: 50%;
      margin: auto;
      padding: 25px 50px;
      background-color: rgba(0, 0, 0, 0.80);
      margin-top: 50px !important;
      color: white;
    }
    #home.active, #form1.active, #form2.active, #form3.active, #form4.active{
        display: block;
}
  </style>
</head>
<body>

<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
      <a class="navbar-brand" data-value="#form1" onclick="toggleform(event)">Face Recognition</a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav">
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a data-value="#form1" onclick="toggleform(event)"><span class="glyphicon glyphicon-user"></span> Login</a></li>
      </ul>
    </div>
  </div>
</nav>
  
<div class="container">
    <form  method="post" action="{{ url_for('userlog')}}" id="form1" class="active">
      <center><h2>User Login</h2></center>
      <hr>
      <div class="form-group">
        <label for="username">Username:</label>
        <input type="text" class="form-control" id="username" placeholder="Enter username" name="name" required>
      </div>
      <div class="form-group">
        <label for="password">Password:</label>
        <input type="password" class="form-control" id="password" placeholder="Enter password" name="password" required>
      </div>
      <button type="submit" class="btn btn-success">Submit</button></br></br>
      <p>Click here to <a data-value="#form2" onclick="toggleform(event)">Sign up</a></p>
    </form>

    
    <form method="post" action="{{ url_for('userreg')}}" id="form2">
      <center><h2>User Registration</h2></center>
      <hr>
      <div class="form-group">
        <label for="username">Username:</label>
        <input type="text" class="form-control" id="username" placeholder="Enter username" name="name" required>
      </div>
      <div class="form-group">
        <label for="email">Email:</label>
        <input type="email" class="form-control" id="email" placeholder="Enter email" name="email" required>
      </div>
      <div class="form-group">
        <label for="phone">Mobile No.:</label>
        <input type="tel" class="form-control" id="phone" placeholder="Enter mobile number" name="phone" required>
      </div>
      <div class="form-group">
        <label for="password">Password:</label>
        <input type="password" class="form-control" id="password" placeholder="Enter password" name="password" required>
      </div>
      <div class="form-group">
        <label for="mpassword">Morse Password:</label>
        <input type="password" class="form-control" id="mpassword" placeholder="Enter Morse Password" name="mpassword" required maxlength="2">
        <small id="error-msg" style="color: red; display: none;">Only digits 1-8 are allowed.</small>
    </div>
      <div class="form-group">
        <label for="password">Security Question:</label>
        <select name="question" id="question" required class="form-control" required>
          <option value="">select security question</option>
          <option value="School name">School name</option>
          <option value="Pet Name">Pet Name</option>
          <option value="Favourite snacks">Favourite snacks</option>
          <option value="Favourite Movie">Favourite Movie</option>
        </select>
      </div>
      <div class="form-group">
        <label for="text">Answer:</label>
        <input type="text" class="form-control" id="answer" placeholder="Enter answer" name="answer" required>
      </div>
      <button type="submit" class="btn btn-success">Submit</button></br></br>
      <p>Click here to <a data-value="#form1" onclick="toggleform(event)">Sign in</a></p>
    </form>

</div>

<script>
    function toggleform(e) {
    var Id =(e.target.getAttribute('data-value'))
    let Items= ['#form1', '#form2'];
    Items.map(function(item) {
        if(Id === item ) {
            $(item).addClass("active");
        }
        else {
        $(item).removeClass("active");
        }
    })
}

if('{{msg}}'){
  alert("{{msg}}");
}
</script>
<script>
  document.getElementById("mpassword").addEventListener("input", function (event) {
      let input = event.target.value;
      
      // Remove any non-digit characters
      input = input.replace(/\D/g, '');
  
      // Ensure the length does not exceed 2 digits
      if (input.length > 2) {
          input = input.slice(0, 2);
      }
  
      // Check if input contains 0 or 9
      if (/[09]/.test(input)) {
          document.getElementById("error-msg").style.display = "block";
          event.target.value = "";
      } else {
          document.getElementById("error-msg").style.display = "none";
          event.target.value = input;
      }
  });
  </script>
</body>
</html>
